- content_for(:main) do
  .w-full.mx-auto.my-8.text-xl.font-bold
    %h2.float-left
      Authors
    %label#advanced_search_link{ for: "simple-modal", class: "btn btn-outline modal-button float-right" }
      Advanced Search
    %input{ type: "checkbox", id: "simple-modal", class: "modal-toggle", style: 'display: none' } 
    .modal
      = search_form_for @q, data: { turbo_frame: '_top' } do |f|
        .modal-box.text-sm.font-light{ data: { controller: 'select' } }
          %h2.text-lg.font-bold
            Advanced Search
          %ul
            %li.my-4.block
              = f.label :first_name_cont
              = f.search_field :first_name_cont, class: 'input input-bordered'
            %li.my-4.block
              = f.label :last_name_cont
              = f.search_field :last_name_cont, class: 'input input-bordered'
            %li.my-4.block
              = f.label :ethnicity_contains
              = f.select :ethnicity_contains, Constants.ethnicities_for_select, include_blank: true
            %li.my-4.block
              = f.label :gender_identity_eq
              = f.select :gender_identity_eq, Constants.gender_identities_for_select, include_blank: true
            %li.my-4.block#author_lgbt
              = f.label :lgbt_eq
              = f.select :lgbt_eq, [['Yes', 1], ['No', 0]], include_blank: true

          .modal-action
            %label{ for: "simple-modal", class: "btn btn-outline btn-sm" }
              Cancel
            = f.submit class: 'btn btn-primary btn-sm'

    = link_to 'Add Author', new_author_path, class: 'btn btn-outline mb-2 lg:mr-2 lg:mb-0 float-right', data: { turbo_frame: 'details' } if policy(authors).edit?
  .w-full.lg.overflow-auto
    .bg-white.rounded.my-6{ data: { controller: 'datatable' } }
      = turbo_stream_from :authors
      %table.hover.stripe{ data: { controller: 'table-row' } }
        %thead
          %tr
            %th
              Name
            %th
              Gender Identity
            %th
              Ethnicity
            %th
              LGBT
        %tbody
          - authors.each do |author|
            = render partial: 'author', locals: { author: author }
